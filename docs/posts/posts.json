[
  {
    "path": "posts/2021-11-24-hurricanes-and-gdp-growth-in-the-bahamas/",
    "title": "Hurricanes and GDP Growth in The Bahamas",
    "description": "EDS 222 Final Project: Exploring the statistical relationship between Hurricanes and the Annual Percentage of   GDP Growth in The Bahamas.",
    "author": [
      {
        "name": "Paloma Cartwright",
        "url": "https://palomacartwright.github.io/"
      }
    ],
    "date": "2021-11-24",
    "categories": [
      "R",
      "statistics",
      "tidyverse",
      "kable"
    ],
    "contents": "\n\nContents\nResearch Question\nData Collection and Tidying\nGDP Growth Data\nData I/O and Tidying\nData Visualization\n\nHurricane Data\nData I/O, Tidying and Visualization\n\n\nCombining the Datasets\nAnalysis\nPlan\nResults\nLinear Regression Summary\nHypothesis Testing\n\n\nNext Steps\n\nResearch Question\nMotivate your question Why is this important? Is there existing evidence on this question? If so, why is it inconclusive? If not, why not?\nThe aim of this project is to investigate the impact of hurricanes on the annual percentage of GDP growth in The Bahamas. Growing up in The Bahamas, I have witnessed first hand the devastating impacts of hurricanes on livelihoods throughout the country and have been an active participant in recovery efforts every time my island was struck. Natural disasters have massive economic and human costs and take a deep toll on growth prospects because reconstruction costs monopolize already scarce resources for health, education, and social spending, especially in developing countries (Ötker & Srinivasan, 2018).\nThere is existing research on the impact of hurricanes on GDP growth in the United States but this project will look specifically at The Bahamas. With the global changing climate and the continual impact of stronger hurricanes on Caribbean countries, answering this question can have important implications for the future of small island developing states like The Bahamas.\nData Collection and Tidying\nDescribe your data Where did you access it? What are its spatial and temporal features? What are its limitations? What do you know about the sampling strategy and what biases that may introduce? If helpful, you can use a histogram, scatterplot, or summary statistics table to describe your data\nFor the analysis of this research question, data from the National Hurricane Center and The World Bank are being used.\nGDP Growth Data\nThe data for annual percentage of GDP Growth was collected from The World Bank Data Repository. This data covers annual percentage of GDP growth from 1961 to present for The Bahamas. The metadata containing information about calculations and sampling strategy can be found here.\nWorld Bank. (2021). GDP growth (annual %)—Bahamas, The | Data. https://data.worldbank.org/indicator/NY.GDP.MKTP.KD.ZG?locations=BS\nData I/O and Tidying\n\n\nShow code\n\ngdp_growth <- read_csv(here(\"_posts\", \"2021-11-24-hurricanes-and-gdp-growth-in-the-bahamas\", \"final_proj_data\", \"bah_yearly_gdp_growth.csv\")) %>% \n  rename(\"country_name\" = \"Country Name\") %>% \n  filter(country_name == \"Bahamas, The\") %>% \n  select(-\"Indicator Name\") %>% \n  pivot_longer(cols = 2:62, \n               names_to = \"year\", \n               values_to = \"gdp_growth\") %>% \n  mutate(year = as.numeric(year))\n\n\n\nData Visualization\n\n\nShow code\n\nggplot(data = gdp_growth, aes(x = year, y = gdp_growth)) +\n  geom_line(color = \"lightblue\") +\n  geom_point(color = \"blue\") +\n  labs(x = \"Year\", \n       y = \"Annual % GDP Growth\", \n       title = \"Yearly Percentage of GDP Growth for The Bahamas\") +\n  theme_classic() +\n  theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\nHurricane Data\nThe data on hurricanes in The Bahamas was collected from the National Hurricane Center’s Data Archive (National Hurricane Center, 2021). This dataset did not exist in csv format, so I looked through the yearly reports from 1960 to present and recorded all of the storms that impacted The Bahamas. I made note of the year each storm occurred, the name of the storm, the intensity and the number of islands in The Bahamas that were impacted by each storm.\nIn creation of this dataset, I recorded storm intensity from 1 to 6, with 1 being Tropical Storms and 6 being a category 5 hurricane. The Saffir-Simpson Wind Scale considers a tropical storm anything with winds below 74mph (National Hurricane Center, 2021), but I know that these storm can still have damaging impacts on countries so I wanted to ensure they were included in the data to be analyzed for this question.\nData I/O, Tidying and Visualization\n\n\nShow code\n\nstorms <- read_csv(here(\"_posts\", \"2021-11-24-hurricanes-and-gdp-growth-in-the-bahamas\", \"final_proj_data\", \"bahamas_hurricanes.csv\")) \n\nyr_storms <- storms %>% \n  group_by(year) %>% \n  summarize(number = n(), \n            avg_strength = mean(category),\n            avg_numisland = mean(no_of_islands))\n\nyr_storms_summary <- yr_storms %>% \n  kable(\n    digits = 2,\n    col.names = c(\"Year\", \"Number of Storms\", \"Average Strength\", \"Average Number of Islands\"), \n    align = 'lccr',\n    caption = \"Bahamian Hurricane Summary Statistics 1960 - 2021\")\n\nyr_storms_summary\n\n\n\nTable 1: Bahamian Hurricane Summary Statistics 1960 - 2021\n\n\nYear\n\n\nNumber of Storms\n\n\nAverage Strength\n\n\nAverage Number of Islands\n\n\n1960\n\n\n1\n\n\n4.00\n\n\n3.00\n\n\n1961\n\n\n1\n\n\n1.00\n\n\n4.00\n\n\n1963\n\n\n1\n\n\n3.00\n\n\n3.00\n\n\n1965\n\n\n1\n\n\n5.00\n\n\n2.00\n\n\n1966\n\n\n2\n\n\n3.50\n\n\n3.00\n\n\n1970\n\n\n1\n\n\n1.00\n\n\n1.00\n\n\n1972\n\n\n1\n\n\n1.00\n\n\n1.00\n\n\n1973\n\n\n1\n\n\n1.00\n\n\n3.00\n\n\n1979\n\n\n1\n\n\n3.00\n\n\n1.00\n\n\n1981\n\n\n3\n\n\n1.67\n\n\n2.67\n\n\n1984\n\n\n1\n\n\n1.00\n\n\n2.00\n\n\n1985\n\n\n2\n\n\n2.00\n\n\n2.00\n\n\n1987\n\n\n1\n\n\n1.00\n\n\n3.00\n\n\n1988\n\n\n1\n\n\n1.00\n\n\n2.00\n\n\n1991\n\n\n2\n\n\n1.00\n\n\n2.50\n\n\n1992\n\n\n1\n\n\n6.00\n\n\n6.00\n\n\n1995\n\n\n1\n\n\n3.00\n\n\n4.00\n\n\n1996\n\n\n2\n\n\n3.50\n\n\n1.50\n\n\n1998\n\n\n1\n\n\n5.00\n\n\n1.00\n\n\n1999\n\n\n4\n\n\n2.75\n\n\n2.75\n\n\n2001\n\n\n1\n\n\n5.00\n\n\n2.00\n\n\n2002\n\n\n1\n\n\n1.00\n\n\n2.00\n\n\n2003\n\n\n4\n\n\n2.50\n\n\n1.75\n\n\n2004\n\n\n2\n\n\n4.00\n\n\n10.50\n\n\n2005\n\n\n6\n\n\n1.83\n\n\n2.83\n\n\n2006\n\n\n1\n\n\n1.00\n\n\n2.00\n\n\n2007\n\n\n1\n\n\n2.00\n\n\n5.00\n\n\n2008\n\n\n3\n\n\n3.67\n\n\n1.67\n\n\n2010\n\n\n2\n\n\n1.00\n\n\n3.00\n\n\n2011\n\n\n3\n\n\n2.00\n\n\n4.00\n\n\n2012\n\n\n2\n\n\n3.00\n\n\n3.50\n\n\n2013\n\n\n1\n\n\n1.00\n\n\n2.00\n\n\n2014\n\n\n2\n\n\n1.50\n\n\n2.00\n\n\n2015\n\n\n2\n\n\n3.50\n\n\n4.50\n\n\n2016\n\n\n3\n\n\n2.67\n\n\n2.67\n\n\n2017\n\n\n3\n\n\n4.00\n\n\n3.00\n\n\n2018\n\n\n2\n\n\n1.50\n\n\n2.00\n\n\n2019\n\n\n2\n\n\n5.00\n\n\n2.50\n\n\n2020\n\n\n4\n\n\n1.50\n\n\n1.50\n\n\n2021\n\n\n1\n\n\n2.00\n\n\n1.00\n\n\nShow code\n\nyearly <- ggplot(data = yr_storms, aes(x = year, y = number)) +\n  geom_point(color = \"blue\") + \n  labs(x = \"Year\", \n       y = \"Number of Storms\", \n       title = \"Yearly Number of Storms to Impact the Bahamas\") +\n  theme_minimal() +\n  theme(plot.title = element_text(hjust = 0.5))\n\nintensity <- ggplot(data = yr_storms, aes(x = year, y = avg_strength)) +\n  geom_point(color = \"blue\") +\n  labs(x = \"Year\", \n       y = \"Average Intensity of Storms\", \n       title = \"Average Yearly Storm Intensity\") +\n  theme_minimal() +\n  theme(plot.title = element_text(hjust = 0.5))\n\n\nyearly / intensity\n\n\n\n\nCombining the Datasets\nTo complete my analysis, I had to combine the GDP growth dataset with the Hurricane dataset. I also added a column to the dataset that recorded whether there was a storm in a given year and removed any years where the value for gdp_growth was NA.\n\n\nShow code\n\nhgdp <- full_join(gdp_growth, yr_storms, by = 'year') %>% \n  mutate(storm = case_when(is.na(number) ~ \"no\", \n                           !is.na(number) ~ \"yes\")) %>% \n  filter(!is.na(gdp_growth))\n\n\n\nAnalysis\nPlan\nClearly describe your analysis plan What is your analysis plan? Why did you choose this analysis, given your data and question? What are the limitations?\nFor this analysis I’m going to first look at a linear regression of the impact of yearly number hurricanes and their average strength on annual percentage of GDP growth. I will then perform hypothesis testing to evaluate if there is a difference in GDP growth between years with hurricanes versus years without.\nI decided to use multiple linear regression to evaluate the relation between hurricanes and annual percentage of GDP growth because I wanted to avoid one omitted variable that can lead to bias. The stronger a hurricane, the more damage it inflicts on a location so I did not just want to look at the number of hurricanes in a given year but also how strong they are.\nI decided to to use hypothesis testing to evaluate whether there was a difference in years with and without hurricanes and this further allows me to analyze the lag effect of hurricanes on annual percentage of GDP growth in The Bahamas by comparing the p-value at year 0 and then at two years later.\nThe biggest limitation in answering my research question is the known fact that more that the impact of hurricanes affect the annual GDP growth of The Bahamas so there is a likely chance that my results will be inconclusive because of omitted variables in GDP growth.\nedit why I chose this analysis and what the limitations are\nResults\nSummarize your results visually and in words Show us your results in figure(s) and/or table(s) that are carefully labeled and captioned. Describe in the text what you found, and how these results either do or do not help you answer your question.\nLinear Regression Summary\n\n\nShow code\n\ngdp_num_strength <- lm(gdp_growth ~ number + avg_strength, data = hgdp) %>%\n  summary() %>% \n  xtable() %>% \n  kable(digits = 3, \n        caption = \"Multiple Linear Regression of Number of Hurricanes and their Average Strength on Annual GDP Growth\")\n\ngdp_num_strength\n\n\n\nTable 2: Multiple Linear Regression of Number of Hurricanes and their Average Strength on Annual GDP Growth\n\n\n\n\nEstimate\n\n\nStd. Error\n\n\nt value\n\n\nPr(>|t|)\n\n\n(Intercept)\n\n\n4.457\n\n\n2.971\n\n\n1.500\n\n\n0.143\n\n\nnumber\n\n\n-1.465\n\n\n0.994\n\n\n-1.474\n\n\n0.149\n\n\navg_strength\n\n\n0.346\n\n\n0.797\n\n\n0.434\n\n\n0.667\n\n\nShow code\n\nmod <- lm(gdp_growth ~ number + avg_strength, data = hgdp)\n\n\n\nThis linear regression tells us that the annual percentage of GDP growth in The Bahamas without the impact of Hurricanes is 4.46. With an increase in number of hurricanes per year by 1, ignoring their intensity, the annual percentage of GDP Growth decreases by -1.47. When observing the impact of average strength of hurricanes on GDP growth, with an increase in 1 category of hurricane intensity, ignoring the number of storms, the annual percentage of GDP growth increases by 0.35\n\n\nShow code\n\nhgdp %>% \n  ggplot(aes(y = gdp_growth, x = number)) +\n  geom_point() +\n  stat_smooth(method = \"lm\", se = FALSE) + \n  labs(x = \"Average Number of Storms\",\n       y = \"Annual % GDP Growth\", \n       title = \"Yearly GDP Growth and Number of Hurricanes with Regression Line\")\n\n\n\n\nA negative correlation between annual percentage of GDP Growth and annual mean number of storms is displayed in this graph.\n\n\nShow code\n\nhgdp %>% \n  ggplot(aes(y = gdp_growth, x = avg_strength)) +\n  geom_point() +\n  stat_smooth(method = \"lm\", se = FALSE) + \n  labs(x = \"Average Strength of Storms\",\n       y = \"Annual % GDP Growth\", \n       title = \"Yearly GDP Growth and Strength of Hurricanes with Regression Line\")\n\n\n\n\nThere is a slight positive correlation seen between annual percent GDP growth and the average strength of storms. This positive correlation highlights that there are likely many omitted variables in the data as well as the possibility of a lagged effect.\nWe can visualize the relationship between all three variables in a hyperplane.\n\n\nShow code\n\nplot_ly(data = hgdp, z = ~gdp_growth, x = ~number, y = ~avg_strength, color = gdp_growth) %>%\n  layout(scene = list(xaxis = list(title = \"Number of Storms\"), \n                      yaxis = list(title = \"Average Strength of Storms\"), \n                      zaxis = list(title = \"Annual % GDP Growth\")))\n\n\n\n{\"x\":{\"visdat\":{\"2dd77e3f4309\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"2dd77e3f4309\",\"attrs\":{\"2dd77e3f4309\":{\"z\":{},\"x\":{},\"y\":{},\"color\":[{\"country_name\":\"Bahamas, The\",\"year\":1960,\"gdp_growth\":null},{\"country_name\":\"Bahamas, The\",\"year\":1961,\"gdp_growth\":10.66709743},{\"country_name\":\"Bahamas, The\",\"year\":1962,\"gdp_growth\":10.45197189},{\"country_name\":\"Bahamas, The\",\"year\":1963,\"gdp_growth\":10.5240552},{\"country_name\":\"Bahamas, The\",\"year\":1964,\"gdp_growth\":10.5015672},{\"country_name\":\"Bahamas, The\",\"year\":1965,\"gdp_growth\":10.42559649},{\"country_name\":\"Bahamas, The\",\"year\":1966,\"gdp_growth\":9.071928711},{\"country_name\":\"Bahamas, The\",\"year\":1967,\"gdp_growth\":9.598113867},{\"country_name\":\"Bahamas, The\",\"year\":1968,\"gdp_growth\":8.421763564},{\"country_name\":\"Bahamas, The\",\"year\":1969,\"gdp_growth\":8.981662578},{\"country_name\":\"Bahamas, The\",\"year\":1970,\"gdp_growth\":-5.649649519},{\"country_name\":\"Bahamas, The\",\"year\":1971,\"gdp_growth\":1.626508741},{\"country_name\":\"Bahamas, The\",\"year\":1972,\"gdp_growth\":-3.497335933},{\"country_name\":\"Bahamas, The\",\"year\":1973,\"gdp_growth\":7.567568824},{\"country_name\":\"Bahamas, The\",\"year\":1974,\"gdp_growth\":-16.75422907},{\"country_name\":\"Bahamas, The\",\"year\":1975,\"gdp_growth\":-14.80312631},{\"country_name\":\"Bahamas, The\",\"year\":1976,\"gdp_growth\":5.185184972},{\"country_name\":\"Bahamas, The\",\"year\":1977,\"gdp_growth\":9.154929219},{\"country_name\":\"Bahamas, The\",\"year\":1978,\"gdp_growth\":14.17952014},{\"country_name\":\"Bahamas, The\",\"year\":1979,\"gdp_growth\":26.13929577},{\"country_name\":\"Bahamas, The\",\"year\":1980,\"gdp_growth\":6.495281921},{\"country_name\":\"Bahamas, The\",\"year\":1981,\"gdp_growth\":-9.22640508},{\"country_name\":\"Bahamas, The\",\"year\":1982,\"gdp_growth\":6.698897756},{\"country_name\":\"Bahamas, The\",\"year\":1983,\"gdp_growth\":3.597051868},{\"country_name\":\"Bahamas, The\",\"year\":1984,\"gdp_growth\":14.17114862},{\"country_name\":\"Bahamas, The\",\"year\":1985,\"gdp_growth\":4.829180114},{\"country_name\":\"Bahamas, The\",\"year\":1986,\"gdp_growth\":1.797000227},{\"country_name\":\"Bahamas, The\",\"year\":1987,\"gdp_growth\":2.984519345},{\"country_name\":\"Bahamas, The\",\"year\":1988,\"gdp_growth\":2.309707661},{\"country_name\":\"Bahamas, The\",\"year\":1989,\"gdp_growth\":6.727329799},{\"country_name\":\"Bahamas, The\",\"year\":1990,\"gdp_growth\":-1.596249086},{\"country_name\":\"Bahamas, The\",\"year\":1991,\"gdp_growth\":-4.181784781},{\"country_name\":\"Bahamas, The\",\"year\":1992,\"gdp_growth\":-3.82558197},{\"country_name\":\"Bahamas, The\",\"year\":1993,\"gdp_growth\":0.307806291},{\"country_name\":\"Bahamas, The\",\"year\":1994,\"gdp_growth\":3.14891562},{\"country_name\":\"Bahamas, The\",\"year\":1995,\"gdp_growth\":4.37875209},{\"country_name\":\"Bahamas, The\",\"year\":1996,\"gdp_growth\":4.223530425},{\"country_name\":\"Bahamas, The\",\"year\":1997,\"gdp_growth\":6.87573942},{\"country_name\":\"Bahamas, The\",\"year\":1998,\"gdp_growth\":-4.503596622},{\"country_name\":\"Bahamas, The\",\"year\":1999,\"gdp_growth\":12.19751829},{\"country_name\":\"Bahamas, The\",\"year\":2000,\"gdp_growth\":4.149234046},{\"country_name\":\"Bahamas, The\",\"year\":2001,\"gdp_growth\":2.625159596},{\"country_name\":\"Bahamas, The\",\"year\":2002,\"gdp_growth\":2.704670969},{\"country_name\":\"Bahamas, The\",\"year\":2003,\"gdp_growth\":-1.264526295},{\"country_name\":\"Bahamas, The\",\"year\":2004,\"gdp_growth\":0.882740185},{\"country_name\":\"Bahamas, The\",\"year\":2005,\"gdp_growth\":3.395260082},{\"country_name\":\"Bahamas, The\",\"year\":2006,\"gdp_growth\":2.516853933},{\"country_name\":\"Bahamas, The\",\"year\":2007,\"gdp_growth\":1.446733889},{\"country_name\":\"Bahamas, The\",\"year\":2008,\"gdp_growth\":-2.323507236},{\"country_name\":\"Bahamas, The\",\"year\":2009,\"gdp_growth\":-4.175805556},{\"country_name\":\"Bahamas, The\",\"year\":2010,\"gdp_growth\":1.538385972},{\"country_name\":\"Bahamas, The\",\"year\":2011,\"gdp_growth\":0.613384158},{\"country_name\":\"Bahamas, The\",\"year\":2012,\"gdp_growth\":3.08668686},{\"country_name\":\"Bahamas, The\",\"year\":2013,\"gdp_growth\":-2.678979525},{\"country_name\":\"Bahamas, The\",\"year\":2014,\"gdp_growth\":1.054316467},{\"country_name\":\"Bahamas, The\",\"year\":2015,\"gdp_growth\":0.230478124},{\"country_name\":\"Bahamas, The\",\"year\":2016,\"gdp_growth\":1.444036489},{\"country_name\":\"Bahamas, The\",\"year\":2017,\"gdp_growth\":3.115613515},{\"country_name\":\"Bahamas, The\",\"year\":2018,\"gdp_growth\":3.025999168},{\"country_name\":\"Bahamas, The\",\"year\":2019,\"gdp_growth\":1.217873857},{\"country_name\":\"Bahamas, The\",\"year\":2020,\"gdp_growth\":-16.27773826}],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"xaxis\":{\"title\":\"Number of Storms\"},\"yaxis\":{\"title\":\"Average Strength of Storms\"},\"zaxis\":{\"title\":\"Annual % GDP Growth\"}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"z\":[10.66709743,10.5240552,10.42559649,9.071928711,-5.649649519,-3.497335933,7.567568824,26.13929577,-9.22640508,14.17114862,4.829180114,2.984519345,2.309707661,-4.181784781,-3.82558197,4.37875209,4.223530425,-4.503596622,12.19751829,2.625159596,2.704670969,-1.264526295,0.882740185,3.395260082,2.516853933,1.446733889,-2.323507236,1.538385972,0.613384158,3.08668686,-2.678979525,1.054316467,0.230478124,1.444036489,3.115613515,3.025999168,1.217873857,-16.27773826],\"x\":[1,1,1,2,1,1,1,1,3,1,2,1,1,2,1,1,2,1,4,1,1,4,2,6,1,1,3,2,3,2,1,2,2,3,3,2,2,4],\"y\":[1,3,5,3.5,1,1,1,3,1.66666666666667,1,2,1,1,1,6,3,3.5,5,2.75,5,1,2.5,4,1.83333333333333,1,2,3.66666666666667,1,2,3,1,1.5,3.5,2.66666666666667,4,1.5,5,1.5],\"type\":\"scatter3d\",\"mode\":\"markers\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}\nHypothesis Testing\nTest 1\nI will construct a null and alternative hypothesis that will allow me to evaluate if there is a difference in annual GDP growth for years without storms vs years with storms.\n\\[H_{0}: \\mu_{nostorms} - \\mu_{storms} = 0\\] \\[H_{A}: \\mu_{nostorms} - \\mu_{storms} \\neq 0\\]\n\n\nShow code\n\nmu_nostorms <- hgdp %>% \n  filter(storm == \"no\") %>% \n  summarize(mean(gdp_growth))\n\nmu_storms <- hgdp %>% \n  filter(storm == \"yes\") %>% \n  summarize(mean(gdp_growth, na.rm = T))\n\npoint_est = as.numeric(mu_nostorms - mu_storms)\n\n\n\nThe difference between annual GDP growth for years without a storm versus years with a storm is 1.1633097.\n\n\nShow code\n\nn1 = hgdp %>% filter(storm == \"no\") %>% count()\nn2 = hgdp %>% filter(storm == \"yes\") %>% count()\ns1 = hgdp %>% filter(storm == \"no\") %>% summarize(sd(gdp_growth, na.rm = TRUE))\ns2 = hgdp %>% filter(storm == \"yes\") %>% summarize(sd(gdp_growth, na.rm = TRUE))\nSE = as.numeric(sqrt(s1^2/n1 + s2^2/n2))\nprint(SE)\n\n\n[1] 1.99641\n\nShow code\n\nzscore = (point_est - 0)/SE\nprint(zscore)\n\n\n[1] 0.5827009\n\nShow code\n\np_val = 2 * pnorm(point_est, mean = 0, sd = SE, lower.tail=FALSE)\nprint(p_val)\n\n\n[1] 0.5600947\n\nSince the p-value is greater than the 0.05, we fail to reject the null hypothesis that there is no difference between annual GDP Growth for years where there is a storm versus a year without. From this sample, we cannot say with certainty that there is a statistical difference at the 5% significance level between GDP growth in years without a hurricanes and years with one.\nThese results are not very helpful in answering the question of impact of hurricanes on the GDP Growth in The Bahamas.\nTest 2\nBecause I failed to reject my null, I was thinking about further analysis and decided to look at whether or not there was a lagged affect due to the impact of hurricanes. Because the hurricane season is from June 1st to November 30th, if there is a late season hurricane that devastates The Bahamas, it is possible that the affect will not be seen on GDP until following years. My new hypothesis test evaluates whether there is a difference in GDP growth for years where there were hurricanes versus years with hurricanes two years before.\n\n\nShow code\n\nhgdp_lag <- hgdp %>% \n  mutate(storm_lag = lag(storm, n = 2, default = NA))\n\n\n\nMy new null hypothesis is \\[H_{0}: \\mu_{nostorms} - \\mu_{storms} = 0\\] where storms and no storms now represent the value from two year prior. The new alternative hypothesis is \\[H_{A}: \\mu_{nostorms} - \\mu_{storms} \\neq 0\\].\n\n\nShow code\n\nmu_nostorms <- hgdp_lag %>% \n  filter(storm_lag == \"no\") %>% \n  summarize(mean(gdp_growth, na.rm = T))\n\nmu_storms <- hgdp_lag %>% \n  filter(storm_lag == \"yes\") %>% \n  summarize(mean(gdp_growth, na.rm = T))\n\npoint_est = as.numeric(mu_nostorms - mu_storms)\n\n\n\nThe difference between annual GDP growth for years without a storm the previous year versus years with a storm the year prior is 5.7710217.\n\n\nShow code\n\nn1 = hgdp_lag %>% filter(storm_lag == \"no\") %>% count()\nn2 = hgdp_lag %>% filter(storm_lag == \"yes\") %>% count()\ns1 = hgdp_lag %>% filter(storm_lag == \"no\") %>% summarize(sd(gdp_growth, na.rm = TRUE))\ns2 = hgdp_lag %>% filter(storm_lag == \"yes\") %>% summarize(sd(gdp_growth, na.rm = TRUE))\nSE = as.numeric(sqrt(s1^2/n1 + s2^2/n2))\nprint(SE)\n\n\n[1] 1.857529\n\nShow code\n\nzscore = (point_est - 0)/SE\nprint(zscore)\n\n\n[1] 3.106828\n\nShow code\n\np_val = 2 * pnorm(point_est, mean = 0, sd = SE, lower.tail=FALSE)\nprint(p_val)\n\n\n[1] 0.001891066\n\nWith the new p-value with the lagged effect being 0.0019 < 0.05, we can now reject the null that there is no difference in GDP growth for years with there was a storm 2 years prior versus years there was not. We can now say there is a statistical difference at the 95% confidence level in annual GDP growth percentage between years where the was a hurricane two years prior versus those with none.\nBecause we were able to reject the null hypothesis here, I will now contruct a confidence interval for the p-value.\n\n\nShow code\n\ncrit_val = qnorm(0.025, lower.tail=FALSE)\n\n\n\nNow we can construct the 95% confidence interval:\n\n\nShow code\n\nci_lower = round(point_est - crit_val*SE, 2)\nci_upper = round(point_est + crit_val*SE, 2)\n\nprint(paste0(\"There is a 95% probability that [\", ci_lower, \", \", ci_upper, \"] contains the difference in annual GDP growth for years where there was a hurricane two years prior versus years where there was not.\"))\n\n\n[1] \"There is a 95% probability that [2.13, 9.41] contains the difference in annual GDP growth for years where there was a hurricane two years prior versus years where there was not.\"\n\n\n\nShow code\n\nt.test(gdp_growth ~ storm_lag, data = hgdp_lag, conf.level = 0.90)\n\n\n\n    Welch Two Sample t-test\n\ndata:  gdp_growth by storm_lag\nt = 3.1068, df = 41.947, p-value = 0.003387\nalternative hypothesis: true difference in means between group no and group yes is not equal to 0\n90 percent confidence interval:\n 2.646659 8.895385\nsample estimates:\n mean in group no mean in group yes \n        6.2442374         0.4732157 \n\nNext Steps\nWhat might you do next? One short analysis cannot fully answer an interesting scientific question. If you had time to collect more data or conduct more analysis, what would help you answer this question better?\nlag effect\nremoval of 2020 from the data to take out the impact of covid\nnumber of islands impacted\n\n\n\n",
    "preview": "posts/2021-11-24-hurricanes-and-gdp-growth-in-the-bahamas/hurricanes-and-gdp-growth-in-the-bahamas_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2021-11-27T15:55:33-08:00",
    "input_file": "hurricanes-and-gdp-growth-in-the-bahamas.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2021-10-14-best-beaches/",
    "title": "My Favorite Beaches on Long Island",
    "description": "A fun intro to my life outside of Data Science",
    "author": [
      {
        "name": "Paloma Cartwright",
        "url": {}
      }
    ],
    "date": "2021-10-14",
    "categories": [
      "The Bahamas",
      "Long Island",
      "Beaches",
      "R",
      "tidyr",
      "ggplot",
      "wordcloud"
    ],
    "contents": "\nOkay so if you’ve been on this blogging journey with me from the beginning, you’ll know this blog post started out as just a list of my favorite beaches. But, this left me feeling a bit unsatisfied lol. After all, I am a data science student so I should include data right? Right! So, I polled my family and friends from home and asked them to rank the beaches from their most to least favorites and I am now redoing this blog post including data analysis. Yay me!\nIf you don’t know my background, I grew up in a tiny island on The Bahamas, Long Island, with a population of a little over 3,000 people. There were definitely both perks and downfalls (hello climate change and hurricanes) of this, but one of my greatest pleasures of growing up there was the fact that there were endless beaches for me to explore always.\nBeing on the ocean is my happy place and completing my senior year of undergrad at McGill University online from home was an unexpected gift for that stage in my life. I also spent a ton of time with my family which I wouldn’t have had the opportunity to do otherwise.\nThis blog post will feature my top 5 beaches (with photos of course). There will also be a surprise appearance of my mom’s swimming piggies. I hope you enjoy!\n\n\n\nMaking the list to decide on my favorites was initially a hard process, but since then I have taken my bias out and the list will now be based on the 12 friends that completed my survey for me. So below I will do some fun data tidying and wrangling and see where the analysis goes from there.\nWrangling my data\nI needed to clean it up first and then I decided to rename all of the columns so that they were shorter and easier to use later in my code. I also created a tribble with the total rating for each beach and will use that for my ranking of the beaches.\n\n\nbeaches_data <- read_csv(here(\"_posts\", \"2021-10-14-best-beaches\",\"beaches.csv\")) %>% \n  clean_names() %>% \n  rename(\"lowes\" = \"rate_lowes_beach\", \n         \"conch_point\" = \"rate_conch_point_beach\",\n         \"sand_bars\" = \"rate_the_sand_bars\", \n         \"blue_hole\" = \"rate_deans_blue_hole\", \n         \"gordons\" = \"rate_gordons_beach\", \n         \"fave\" = \"name_your_favourite_beach\")\n\n\n\ntotals <- tribble(\n  ~beach, ~total,\n  \"Lowe's Beach\", sum(beaches_data$lowes),\n  \"Conch Point Beach\", sum(beaches_data$conch_point), \n  \"The Sand Bars\", sum(beaches_data$sand_bars),\n  \"Dean's Blue Hole\", sum(beaches_data$blue_hole),\n  \"Gordon's Beach\", sum(beaches_data$gordons)\n)\n\ntotals <- totals %>% \n  arrange(total)\n\n\n\nNumber 5\nThe award for the least favorite beach among my family and friends goes to Conch Point Beach.\n(I’m salty about this because Conch Point Deserves to be higher)\nThis beach admittedly has a weird name, but its just a beach named after the channel that it borders, Conch Point. This has always been a favorite place of mine, but now even more so since my parents worked with members of the community to build cabanas on the beach and my mom trained the pigs that now live on the beach and play with you.\n\n\n\nIt is just so stunningly perfect, year round. It is only accessible by boat so it means I get a beach and boat day in one and I just love that for me.\n\n\n\nNumber 4\nLet’s see what my family gave me this time! The number 4 winner goes to Dean’s Blue Hole\nThis one is very reasonable. She had to make the list because she is world famous. Every year there are countless world records broken here because the Blue Hole is over 600 feet deep. The perfect place for a free-diving competition or if you’re me, to get your scuba diving certification.\n\n\n\n(Third Picture above from Vertical Blue)\nIf you grew up on Long Island, then you also know this is a perfect place for a lil adrenaline rush from jumping off of the cliff into the Blue Hole, just like my cousin is doing in the picture. Definitely a must do if you ever go to Long Island.\n\n\n\nNumber 3\nGordon’s Beach\nOkay so my friends just have bad taste, sorry guys. This beach deserves number 1 every time. Gordon’s Beach is at the Southern most end of Long Island, right off the end of the road. Just miles of untouched beauty. Literally takes my breath away everytime I see it and I’ve been going here my entire life. She is a stunner and worth the drive every time!\n\n\n\nThe Runner Up\nWhat do we have here? The Sand Bars\nSo when I did my ranking, the sand bars were ranked lower because they are only above water at low tides and only accessible by boat, so you do really have to time it right. Apparently that is not a deterrent for anyone, including me and it is a treat because when you do time it right?? Absolute stunner! I love it at the sandbars. You really do be feeling like you in the middle of nowhere. (That last sentence was very Bahamian, I do not apologize.)\n\n\n\nI mean just look at the content!! She truly speaks for herself.\n\n\nThe Winner\nAnd the top award (which does not surprise me) goes to… Lowe’s Beach.\nThis one has been a family fave for as long as I have been alive. This was definitely the beach of my toddler years and I have fond memories of it. My aunt sent me the pictures of me below and told me I should recreate it now, I have yet to do it but it was taken on Lowe’s Beach. My mom always spent summers on the beach everyday with me, my big brother and all of the cousins that could fit in the car. This beach was also probably where I learnt to swim.\n\n\n\nThis is a view of the stunning beach from above. It is this little pool thing that has a reef at the entrance that water flows through and over but feels a lil safer for children because they can’t go into the ocean.\n\n\n\nAt certain times in the year, the sand at this beach also has a pink tint, 10/10 rating. I love going to the beach with my friends here and we always have a good time.\n\n\n\nNo filter on any of these pictures because The Bahamas is THAT girl.\nSo after asking my friends for a ranking, I figured it was time for me to create my first !!WORD CLOUD!! I asked them all to write in the name of their favorite beach, on the list or not so I could make a fun little word cloud.\nI had to do some fun wrangling to ensure that there was no duplicate stuff in my word clouds but it mostly went well. Shoutout to my classmates Scout and Juliet for doing a word cloud in the blog post about our summer courses, y’all truly made my life easier for this and figuring it all out.\n\n\nbeaches_data <- beaches_data %>% \n  mutate(fave = tolower(fave))\n\nbeaches <- data.frame(table(beaches_data$\"fave\"))\n\nbeaches_df <- as.data.frame.matrix(beaches)\n\nbeaches_cloud <- ggplot(beaches_df, aes(label = Var1, size = Freq, color = Var1)) +\n  geom_text_wordcloud() +\n  scale_size_area(max_size = 10) +\n  theme(plot.title = element_text(size = 25),\n        panel.background = element_rect(fill = \"white\")) +\n  labs(title = \"Beach Beach Baby\")\n\nbeaches_cloud\n\n\n\n\nAdmittedly, my word cloud is not very interesting butttt it’s something and it is telling me that I probably should’ve included The Cape Beach. Here is a picture of that beaut.\n\nHope reading this post made your day better!\n\n\n\n",
    "preview": "posts/2021-10-14-best-beaches/img/DSC_0213.jpeg",
    "last_modified": "2021-11-03T18:24:49-07:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-09-29-mappractice/",
    "title": "Map Making",
    "description": "This is a blog post that is my journey on how to make maps.",
    "author": [
      {
        "name": "Paloma Cartwright",
        "url": {}
      }
    ],
    "date": "2021-09-29",
    "categories": [
      "R",
      "spData",
      "tmap"
    ],
    "contents": "\n\nContents\nLet’s Make Some Maps\ntmap basics\ntmap aesthetics\nColor Settings\n\n\nLet’s Make Some Maps\ntmap basics\nThis is a blog post about my process navigating chapter 8 in GeoComputation with R for EDS 223. I don’t know where this journey will take me, but I figured that I’d make a blog post about my process as I make some cool maps and learn how to use tmap.\nMaking a basic map of New Zealand with tmap. The New Zealand object comes from the sf data\ntm_polygons() combines both tm_fill() and tm_borders() so map_nz1 and map_nz2 below are the same.\n\n\nShow code\n\nmap_nz1 <- tm_shape(nz) +\n  tm_fill() + \n  tm_borders() \n\nmap_nz2 <- tm_shape(nz) + tm_polygons()\nmap_nz2\n\n\n\n\nCombining multiple layers\ntm_raster() plots a raster layer and the argument alpha is the transparency of that layer\n\n\nShow code\n\nmap_nz3 <- map_nz2 + tm_shape(nz_elev) +\n  tm_raster(alpha = 0.7) \nmap_nz3\n\n\n\n\nNew Zealand water addition\n\n\nShow code\n\nnz_water <- st_union(nz) %>% #returns a single geometry with resolved boundaries\n  st_buffer(22200) %>% #computes a buffer around this geometry\n  st_cast(to = \"LINESTRING\") #cast geometry to another type\n\nmap_nz4 <- map_nz3 + \n  tm_shape(nz_water) + tm_lines()\nmap_nz4\n\n\n\n\nAdding the height element to the map of New Zealand\n\n\nShow code\n\nmap_nz5 <- map_nz4 + \n  tm_shape(nz_height) + tm_dots()\n\nmap_nz5\n\n\n\n\nTo combine different maps using tmap in a similar way as you would use patchwork in ggplot you do the following:\n\n\nShow code\n\ntmap_arrange(map_nz3, map_nz4, map_nz5)\n\n\n\n\ntmap aesthetics\nThe common aesthetics for fill and border layers are color col , transparency alpha , line width lwd and line typelty.\n\n\nShow code\n\nmap1 <- tm_shape(nz) + tm_fill(col = \"green\")\nmap2 <- tm_shape(nz) + tm_fill(col = \"red\", alpha = 0.5)\nmap3 <- tm_shape(nz) + tm_borders(col = \"darkgrey\")\nmap4 <- tm_shape(nz) + tm_borders(lwd = 2)\nmap5 <- tm_shape(nz) + tm_borders(lty = 3)\nmap6 <- tm_shape(nz) + tm_fill(col = \"green\", alpha = 0.5) +\n  tm_borders(col = \"darkgrey\", lwd = 2, lty = 3)\ntmap_arrange(map1, map2, map3, map4, map5, map6)\n\n\n\n\nYou cannot use a column name in tmap like you can in R to set the aesthetic of a variable like color, but instead you have to put it in quotations. You can treat plot the same way as you would R though. Hopefully, I am understanding this correctly.\n\n\nShow code\n\n# tm_shape(nz) + tm_fill(col = nz$Land_area) This line fails\nplot(st_geometry(nz), col = nz$Land_area) # This works because plot has the same functionality as R\n\n\n\nShow code\n\ntm_shape(nz) + tm_fill(col = \"Land_area\") #The color aesthetic has to be in quotes here \n\n\n\n\nTo add a title in the legend of the aesthetic you are using, you define this in the same place as you define the aesthetic. expression() is used in the commented seciton below to add the special script for the squared kilometers. If you do not need fancy text, you can just put your title in quotes.\n\n\nShow code\n\n#legend_title = expression(\"Area (km\"^2*\")\") \nlegend_title = \"Area in Kilometers Squared\"\nmap_nza = tm_shape(nz) +\n  tm_fill(col = \"Land_area\", title = legend_title) + tm_borders(lwd = 1.5)\nmap_nza\n\n\n\n\nColor Settings\n\n\nShow code\n\ntm_shape(nz) + tm_polygons(col = \"Median_income\")\n\n\n\nShow code\n\nbreaks = c(0, 3, 4, 5) * 10000\ntm_shape(nz) + tm_polygons(col = \"Median_income\", breaks = breaks)\n\n\n\nShow code\n\ntm_shape(nz) + tm_polygons(col = \"Median_income\", n = 10)\n\n\n\nShow code\n\ntm_shape(nz) + tm_polygons(col = \"Median_income\", palette = \"viridis\")\n\n\n\n\nThis is all the map work I’ve done for the day! Stay tuned, maybe there will be more.\n\n\n\n",
    "preview": "posts/2021-09-29-mappractice/mappractice_files/figure-html5/unnamed-chunk-1-1.png",
    "last_modified": "2021-11-25T10:24:55-08:00",
    "input_file": "mappractice.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2021-08-17-eds-221-week-2-blog-post/",
    "title": "EDS 221 Week 2 Blog Post",
    "description": "A blog post containing some of the material and things we've done in EDS 221.",
    "author": [
      {
        "name": "Paloma Cartwright",
        "url": {}
      }
    ],
    "date": "2021-08-17",
    "categories": [
      "R",
      "tidyr"
    ],
    "contents": "\nI will edit this post and add in all of the required things throughout the week.\nThroughout EDS 221, we have done extensive work with programming techniques and one of the most fascinating ones for me was the tidyr functions pivot_wider and pivot_longer to tidy data so that it can be used later. It is always fun to see how data can be graphed using the various functions in R like ggplot.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-09-29T14:03:28-07:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-08-10-diamondsdataset/",
    "title": "Exploring the Diamonds Dataset",
    "description": "Using the diamonds dataset to explore ggplot functions and customization more.",
    "author": [
      {
        "name": "Paloma Cartwright",
        "url": {}
      }
    ],
    "date": "2021-08-10",
    "categories": [
      "R",
      "GGally"
    ],
    "contents": "\nUsing GGally and ggplot to Explore the Diamonds data set\nUsing ggplot\nCreating a Scatter Plot\nCreating a scatter plot of carat versus price of the diamonds data set.\n\n\n\nGenerally, as the carats increase, the price of the diamonds also increase.\nCreating a Histogram\nCreating a histogram of the carats of diamonds in the dataset\n\n\n\nUsing GGally\nThis outputs a really ridiculous set of graphs, but that is the purpose of the ggpairs function.\n\n\n\n\n\n\n",
    "preview": "posts/2021-08-10-diamondsdataset/images/diamonds.png",
    "last_modified": "2021-09-29T14:01:18-07:00",
    "input_file": {},
    "preview_width": 384,
    "preview_height": 451
  },
  {
    "path": "posts/2021-08-10-function/",
    "title": "Using `ggplot` to Explore Palmer Penguins Datasets",
    "description": "This blog post has graphs from the palmer penguins dataset.",
    "author": [
      {
        "name": "Paloma Cartwright",
        "url": {}
      }
    ],
    "date": "2021-08-10",
    "categories": [
      "R",
      "ggplot",
      "palmerpenguins"
    ],
    "contents": "\nExploring Palmer Penguins\nThis is a graph using ggplot to display the flipper length and body mass relation of the palmer penguins dataset.\n\n\n\n\n\n\n",
    "preview": "posts/2021-08-10-function/images/lter_penguins.png",
    "last_modified": "2021-09-29T14:02:25-07:00",
    "input_file": {},
    "preview_width": 1800,
    "preview_height": 1074
  },
  {
    "path": "posts/2021-08-10-hello/",
    "title": "My First Blog Post",
    "description": "First blog post for this website.",
    "author": [
      {
        "name": "Paloma Cartwright",
        "url": {}
      }
    ],
    "date": "2021-08-10",
    "categories": [],
    "contents": "\nThis is the first blog post ever added to my website. It does not say very much because it is just a tester to demonstrate how distill websites work and how you create blog posts. As the quarter goes on, I will be adding more informational blog posts to my website. If you made it this deep, I hope you are enjoying my website. I am very new to making websites in RStudio using Distill, so please be patient with me as I work the kinks out over the next few months.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-09-28T21:58:36-07:00",
    "input_file": {}
  }
]
